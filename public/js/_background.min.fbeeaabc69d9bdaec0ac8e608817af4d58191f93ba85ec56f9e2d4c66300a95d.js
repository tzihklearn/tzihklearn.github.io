(()=>{document.addEventListener("DOMContentLoaded",function(){t();const e=new MutationObserver(function(e){e.forEach(function(e){e.attributeName==="data-theme"&&a()})});e.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})});function t(){const t=document.body,o=e("siteBackgroundEnabled")==="true",a=e("homeCoverEnabled")==="true",r=e("effectMode")||"glass";if(o){const e=document.createElement("div");e.className="site-background",e.id="site-background",t.appendChild(e),n()}a&&i()?t.classList.add("home-cover-enabled"):t.classList.add("home-cover-disabled"),o?t.classList.add("background-enabled"):t.classList.add("background-disabled"),s(r)}function n(){const t=document.getElementById("site-background");if(!t)return;const e=o();document.documentElement.style.setProperty("--home-cover-image",`url('${e.homeCover.image}')`),document.documentElement.style.setProperty("--site-background-image",`url('${e.site.image}')`),document.documentElement.style.setProperty("--background-blur",`${e.site.blur}px`),document.documentElement.style.setProperty("--background-brightness",`${e.site.brightness}%`),document.documentElement.style.setProperty("--background-opacity",`${e.site.opacity/100}`)}function o(){return{site:{enable:e("siteBackgroundEnabled"),image:e("siteBackgroundImage")||"https://images.unsplash.com/photo-1497366216548-37526070297c",blur:parseInt(e("siteBackgroundBlur"))||0,brightness:parseInt(e("siteBackgroundBrightness"))||100,opacity:parseInt(e("siteBackgroundOpacity"))||80},homeCover:{enable:e("homeCoverEnabled"),image:e("homeCoverImage")||"https://images.unsplash.com/photo-1506744038136-46273834b3fb",title:e("homeCoverTitle")||document.title,subtitle:e("homeCoverSubtitle")||""},effectMode:e("effectMode")||"glass"}}function e(e){const t=window.siteConfig||{};return t[e]}function i(){return window.location.pathname==="/"||window.location.pathname==="/index.html"}function a(){const t=document.documentElement.getAttribute("data-theme"),e=document.getElementById("site-background");e&&(t==="dark"?e.style.filter="brightness(0.8)":e.style.filter="brightness(1)")}function s(t){const n=document.querySelector(".site-wrap");if(!n)return;if(n.classList.remove("effect-transparent","effect-glass","effect-translucent","effect-solid"),n.classList.add(`effect-${t}`),t==="solid"){const t=e("solidColor")||"#4fc3f7";n.style.backgroundColor=t}else n.style.backgroundColor=""}window.backgroundManager={toggleSiteBackground:function(e){const n=document.body,s=document.getElementById("site-background");e?(s||t(),n.classList.remove("background-disabled"),n.classList.add("background-enabled")):(s&&s.remove(),n.classList.remove("background-enabled"),n.classList.add("background-disabled"))},toggleHomeCover:function(e){const t=document.body;e?(t.classList.remove("home-cover-disabled"),t.classList.add("home-cover-enabled")):(t.classList.remove("home-cover-enabled"),t.classList.add("home-cover-disabled"))},updateBackgroundConfig:function(){n()},switchEffectMode:function(e){s(e)}}})()